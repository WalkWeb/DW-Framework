#!/usr/bin/env php
<?php

require_once __DIR__ . '/../../vendor/autoload.php';

// Подключаем настройки: если есть config.local.php - подключаем их, иначе - config.php
if (file_exists(__DIR__ . '/../../config.local.php')) {
    require_once __DIR__ . '/../../config.local.php';
} else {
    require_once __DIR__ . '/../../config.php';
}

use NW\App;
use NW\Container;
use NW\Route\RouteCollection;
use NW\Route\Router;

try {

    $app = new App(new Router(new RouteCollection()), Container::create());
    $db = $app->getContainer()->getConnection();

    $db->query("
        INSERT INTO `posts`(`id`, `title`, `text`, `created_at`, `updated_at`) VALUES
        ('0ca5ebd4-a498-490f-9821-f7518e8eecb1', 'Заголовок поста #1', 'Содержимое поста #1', '2024-03-17 10:00:00', '2024-03-17 10:00:00'),
        ('0e62ab1a-6b21-4b6f-8012-a97ede1127f6', 'Заголовок поста #2', 'Содержимое поста #2', '2024-03-17 11:00:00', '2024-03-17 11:00:00'),
        ('82f4b2ee-ddae-448b-ab42-b5779e5e13e3', 'Заголовок поста #3', 'Содержимое поста #3', '2024-03-17 12:00:00', '2024-03-17 12:00:00'),
        ('ab471a0b-cdff-467b-b9ee-7c4f4b66f53e', 'Заголовок поста #4', 'Содержимое поста #4', '2024-03-17 13:00:00', '2024-03-17 13:00:00'),
        ('8983b8e4-8160-404a-9e12-bc6821651bae', 'Заголовок поста #5', 'Содержимое поста #5', '2024-03-17 14:00:00', '2024-03-17 14:00:00'),
        ('1ac66a33-0b4e-410e-a836-21e55afe825b', 'Заголовок поста #6', 'Содержимое поста #6', '2024-03-17 15:00:00', '2024-03-17 15:00:00'),
        ('c5559600-f341-4a50-8c14-75b4abca144f', 'Заголовок поста #7', 'Содержимое поста #7', '2024-03-17 16:00:00', '2024-03-17 16:00:00'),
        ('10cf999c-4b8e-4462-83f5-f7760382d8a5', 'Заголовок поста #8', 'Содержимое поста #8', '2024-03-17 17:00:00', '2024-03-17 17:00:00'),
        ('d3f918ec-8fc2-4522-93dc-65e504984a3f', 'Заголовок поста #9', 'Содержимое поста #9', '2024-03-17 18:00:00', '2024-03-17 18:00:00'),
        ('1389c72f-cdff-4114-837a-24fe77b2c95b', 'Заголовок поста #10', 'Содержимое поста #10', '2024-03-17 19:00:00', '2024-03-17 19:00:00'),
        ('ac56830f-b45b-4a57-984c-186d94d063ce', 'Заголовок поста #11', 'Содержимое поста #11', '2024-03-17 20:00:00', '2024-03-17 20:00:00'),
        ('b9a66e7c-fa96-4d9a-99c9-226a988e5404', 'Заголовок поста #12', 'Содержимое поста #12', '2024-03-17 21:00:00', '2024-03-17 21:00:00'),
        ('932647c8-af3a-46a2-88b3-fed9226b1810', 'Заголовок поста #13', 'Содержимое поста #13', '2024-03-17 22:00:00', '2024-03-17 22:00:00'),
        ('612bfc0c-0b1c-4284-99b4-06d1afe61801', 'Заголовок поста #14', 'Содержимое поста #14', '2024-03-17 23:00:00', '2024-03-17 23:00:00'),
        ('371e8e78-36e5-45b1-b124-fc8f7bc47613', 'Заголовок поста #15', 'Содержимое поста #15', '2024-03-18 10:00:00', '2024-03-18 10:00:00')
        ;
    ");

    echo "Complete\n";
    return 0;
} catch (Exception $e) {
    echo "{$e->getMessage()}\n";
    return 1;
}
